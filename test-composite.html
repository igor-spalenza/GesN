<!DOCTYPE html>
<html>
<head>
    <title>Teste CompositeProduct.js</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
</head>
<body>
    <h1>Teste CompositeProduct.js</h1>
    <button onclick="testFunctions()">Testar Funções</button>
    <div id="result"></div>

    <script src="GesN.Web/wwwroot/js/CompositeProduct.js"></script>
    <script>
        function testFunctions() {
            const result = document.getElementById('result');
            let output = '<h3>Teste das Funções:</h3>';
            
            // Testar se o objeto existe
            if (typeof compositeProductManager !== 'undefined') {
                output += '<p>✅ compositeProductManager existe</p>';
                
                if (compositeProductManager.hierarchies) {
                    output += '<p>✅ compositeProductManager.hierarchies existe</p>';
                    
                    // Testar funções específicas
                    const functions = [
                        'showCreateHierarchyModal',
                        'saveCompositeProductXHierarchy',
                        'initializeCreateCompositeProductXHierarchyForm',
                        'showEditRelationModal',
                        'initializeEditCompositeProductXHierarchyForm',
                        'updateCompositeProductXHierarchy'
                    ];
                    
                    functions.forEach(funcName => {
                        if (typeof compositeProductManager.hierarchies[funcName] === 'function') {
                            output += `<p>✅ ${funcName} existe</p>`;
                        } else {
                            output += `<p>❌ ${funcName} NÃO existe</p>`;
                        }
                    });
                } else {
                    output += '<p>❌ compositeProductManager.hierarchies NÃO existe</p>';
                }
            } else {
                output += '<p>❌ compositeProductManager NÃO existe</p>';
            }
            
            // Testar aliases globais
            if (typeof window.CompositeProduct !== 'undefined') {
                output += '<p>✅ window.CompositeProduct existe</p>';
                
                const aliases = [
                    'showCreateHierarchyModal',
                    'showEditRelationModal',
                    'initializeCreateCompositeProductXHierarchyForm',
                    'initializeEditCompositeProductXHierarchyForm'
                ];
                
                aliases.forEach(aliasName => {
                    if (typeof window.CompositeProduct[aliasName] === 'function') {
                        output += `<p>✅ CompositeProduct.${aliasName} existe</p>`;
                    } else {
                        output += `<p>❌ CompositeProduct.${aliasName} NÃO existe</p>`;
                    }
                });
            } else {
                output += '<p>❌ window.CompositeProduct NÃO existe</p>';
            }
            
            result.innerHTML = output;
        }
    </script>
</body>
</html>